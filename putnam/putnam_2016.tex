\documentclass[11pt,a4paper]{article}
\usepackage{amsmath, amssymb, fullpage, mathrsfs, bm, pgf, tikz}
\usepackage{mathrsfs}
\usetikzlibrary{arrows}
\setlength{\textheight}{10in}
%\setlength{\topmargin}{0in}
\setlength{\topmargin}{-0.5in}
\setlength{\parskip}{0.1in}
\setlength{\parindent}{0in}

\newcommand{\set}[2]{\{#1\,:\,\text{#2}\}}
\newcommand{\tup}[1]{\mathrm{#1}}
\newcommand{\sfP}{\mathsf{P}}
\newcommand{\M}{\mathsf{M}}
\newcommand{\bbR}{\mathbb R}
\newcommand{\bbC}{\mathbb C}
\newcommand{\bbZ}{\mathbb Z}
\newcommand{\bbN}{\mathbb N}
\newcommand{\bbQ}{\mathbb Q}
\newcommand{\bbF}{\mathbb F}
\newcommand{\bbP}{\mathbb P}
\newcommand{\bbE}{\mathbb E}
\newcommand{\dfeq}{\stackrel{\mathrm{def}}{=}}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\lra}{\leftrightarrow}
\newcommand{\Span}{\mathrm{span}}
\newcommand{\scrP}{\mathscr{P}}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\nullity}{\mathrm{nullity}}
\newcommand{\Col}{\mathrm{Col}}
\newcommand{\Row}{\mathrm{Row}}
\newcommand{\tr}{\mathrm{tr}}
\newcommand{\ol}{\overline}
\newcommand{\norm}[1]{||#1||}
\newcommand{\doubleline}[1]{\underline{\underline{#1}}}
\newcommand{\elemop}[1]{\stackrel{#1}{\longrightarrow}}
\newcommand{\Ind}{\mathrm{Ind}}
\newcommand{\Res}{\mathrm{Res}}
\newcommand{\End}{\mathrm{End}}
\newcommand{\cl}{\mathrm{cl}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand\tab[1][0.5cm]{\hspace*{#1}}
\newcommand{\<}{\langle}
\renewcommand{\>}{\rangle}
\newcommand{\qubits}[1]{|{#1}\rangle}
\newcommand{\ord}{\mathrm{ord}}
\newcommand{\lcm}{\mathrm{lcm}}
\newcommand{\dsum}{\displaystyle\sum}
\newcommand{\dprod}{\displaystyle\prod}

\begin{document}

\newcommand{\sgn}{\text{sgn}}
\setcounter{secnumdepth}{0}

\section{Putnam 2016}
\begin{enumerate}
	\item[\textbf{A1}]Find the smallest positive integer $j$ such that for every polynomial $p(x)$ with integer coefficients and for every integer $k,$ the integer
	\[p^{(j)}(k)=\left. \frac{d^j}{dx^j}p(x) \right|_{x=k}\](the $j$-th derivative of $p(x)$ at $k$) is divisible by $2016.$
	
	\textbf{Answer.} $j=8$. \\
	\textbf{Solution.} Consider $p(x)=x^j$, and we know that $p^{(j)}(x)=j(j-1)\cdots 1=j!$. The condition implies that $2016|j!$. Since $7!=5040$ is not divisible by 2016, and $j!|7!$ for $j\le 7$, we know that $2016\nmid j!$ for $j\le 7$. So $j\ge 8$. 
	
	Now suppose that $j\ge 8$. Let $p(x)=\displaystyle\sum_{i=0}^{n} a_ix^i$. Notice that differentiating the term $x^i$ $j$ times gives $i(i-1)\cdots (i-j+1)x^{i-j}$; in particular, this term is 0 if $i\le 7$. Hence multiplying each term by $a_i$ and summing them up we get 
	\[p^{(j)}(x)=\sum_{i=j}^{n} i(i-1)\cdots (i-j+1)a_ix^{i-j}\]
	Notice that we omit all terms with $i<j$ since they contribute 0 to the sum anyway, with reasons explained above. Observe also that the coefficient of $x^{i-j}$ in this derivative is $i(i-1)\cdots (i-j+1)=j!\dbinom{i}{j}$, hence is divisible by $j!$. For $j\ge 8$, $2016|40320=8!|j!$, so each term 
	$i(i-1)\cdots (i-j+1)a_ix^{i-j}$ is divisible by 2016 whenever $x$ is an integer (in particular this holds true for $x=k$). Hence any $j\ge 8$ works, and so the required $j$ is 8. 
	
	\item[\textbf{A2}]Given a positive integer $n,$ let $M(n)$ be the largest integer $m$ such that
	\[\binom{m}{n-1}>\binom{m-1}{n}.\]Evaluate
	\[\lim_{n\to\infty}\frac{M(n)}{n}.\]
	
	\textbf{Answer.} $\dfrac{3+\sqrt{5}}{2}$\\
	\textbf{Solution.} $m=n$ works since the left hand side is $n$ while the right hand side is $0$, so $m>n$ and we can then assume that $m$ is positive below. 
	We first try to consider the following inequality: 
	\[\frac{m!}{(n-1)!(m-n+1)!}>\frac{(m-1)!}{n!(m-n-1)!}\]
	Cancelling factors, we are left with $\dfrac{m}{(m-n)(m-n+1)}>\dfrac{1}{n}$, so $(m-n)(m-n+1)>mn$. Expanding this, we get 
	\[m^2-m(3n-1)+(n^2-n)<0\]
	Using the formula for quadratic inequality, we get 
	\[m\in\left(\frac{(3n-1)-\sqrt{(3n-1)^2-4(n^2-n)}}{2}, \frac{(3n-1)+\sqrt{(3n-1)^2+4(n^2-n)}}{2}\right)\]
	This means that $M(n)$ is the unique integer lying in the interval 
	$[\frac{(3n-1)+\sqrt{(3n-1)^2+4(n^2-n)}}{2} - 1, \frac{(3n-1)+\sqrt{(3n-1)^2+4(n^2-n)}}{2})$
	, which also means
	\[\frac{M(n)}{n}\in \left[\frac{(3-\frac 1n)+\sqrt{(3-\frac 1n)^2-4(1-\frac 1n)}}{2} - \frac 1n, \frac{(3-\frac 1n)+\sqrt{(3-\frac 1n)^2-4(1-\frac 1n)}}{2}\right)\]
	now $\lim_{n\to \infty} \frac{(3-\frac 1n)+\sqrt{(3-\frac 1n)^2-4(1-\frac 1n)}}{2} - \frac 1n
	=\frac{3+\sqrt{3^2-4}}{2}=\frac{3+\sqrt{5}}{2}$ and $\lim_{n\to \infty} \frac{(3-\frac 1n)+\sqrt{(3-\frac 1n)^2-4(1-\frac 1n)}}{2}
	=\frac{3+\sqrt{3^2-4}}{2}=\frac{3+\sqrt{5}}{2}$. By Squeeze's theorem, we get $\lim_{n\to\infty}\frac{M(n)}{n}=\frac{3+\sqrt{5}}{2}$, as desired. 
	
	\item[\textbf{A3}]
	Suppose that $f$ is a function from $\mathbb{R}$ to $\mathbb{R}$ such that
	\[f(x)+f\left(1-\frac1x\right)=\arctan x\]for all real $x\ne 0.$ (As usual, $y=\arctan x$ means $-\pi/2<y<\pi/2$ and $\tan y=x.$) Find
	\[\int_0^1f(x)\,dx.\]
	
	\textbf{Answer.} $\frac{3\pi}{8}$. \\
	\textbf{Solution.} We first focus on the case $x\neq 0, 1$. 
	Plugging $1-\frac1x$ into the equation above we get $f\left(1-\frac1x\right)+f\left(-\frac{1}{x-1}\right)=\arctan \left(1-\frac1x\right)$ and plugging $-\frac{1}{x-1}$ we get $f\left(-\frac{1}{x-1}\right)+f(x)=\arctan(-\frac{1}{x-1})$. Thus adding all these we get: 
	\[2\left(f(x)+f\left(1-\frac1x\right)+f\left(-\frac{1}{x-1}\right)\right)=\arctan x + \arctan \left(1-\frac1x\right) + \arctan\left(-\frac{1}{x-1}\right)\]
	Thus for all $x\neq 0, 1$ we have 
	\[f(x)=\frac{\arctan x - \arctan \left(1-\frac1x\right) + \arctan\left(-\frac{1}{x-1}\right)}{2}\]
	First, notice that $\arctan$ is an odd function (well-known), so $- \arctan \left(1-\frac1x\right)= \arctan \left(\frac1x -1\right)=\arctan \left(\frac{1-x}{x}\right)$, so we may rewrite $f(x)$ as 
	$\frac{\arctan x + \arctan \left(\frac{1-x}{x}\right) + \arctan\left(\frac{1}{1-x}\right)}{2}$
	Second, we consider the following: 
	\[f(1-x)=\dfrac{\arctan (1-x) + \arctan \left(\frac{x}{1-x}\right) + \arctan\left(\frac{1}{x}\right)}{2}\]
	Then, we use the fact that if $a>0$, $\arctan a+\arctan \frac{1}{a}=\frac{\pi}{2}$. This gives 
	\[f(x)+f(1-x)=\frac{\arctan x + \arctan \left(\frac{1-x}{x}\right) + \arctan\left(\frac{1}{1-x}\right)+\arctan (1-x) + \arctan \left(\frac{x}{1-x}\right) + \arctan\left(\frac{1}{x}\right)}{2}\]
	$=\frac{3(\frac{\pi}{2})}{2}=\frac{3\pi}{4}$. 
	So $\int_0^1 f(x)+f(1-x)dx=\int_0^1 \frac{3\pi}{4}dx=\frac{3\pi}{4}$ (notice that all the computations are not valid when $x=0$ or 1, but the integral is still good even when we remove the two points 0 and 1 from our computation since a finite set of points do not influence the integral, or the integrability of the expression). We also have $\int_0^1 f(x)dx=\int_0^1 f(1-x)dx$, so the required answer is $f(x)=\frac{3\pi}{8}$. 
	
	\item[\textbf{A4}]Consider a $(2m-1)\times(2n-1)$ rectangular region, where $m$ and $n$ are integers such that $m,n\ge 4.$ The region is to be tiled using tiles of the two types shown:
	\[
	\begin{picture}(140,40)
	
	\put(0,0){\line(0,1){40}}
	\put(0,0){\line(1,0){20}}
	\put(0,40){\line(1,0){40}}
	\put(20,0){\line(0,1){20}}
	\put(20,20){\line(1,0){20}}
	\put(40,20){\line(0,1){20}}
	\multiput(0,20)(5,0){4}{\line(1,0){3}}
	\multiput(20,20)(0,5){4}{\line(0,1){3}}
	
	\put(80,0){\line(1,0){40}}
	\put(120,0){\line(0,1){20}}
	\put(120,20){\line(1,0){20}}
	\put(140,20){\line(0,1){20}}
	\put(80,0){\line(0,1){20}}
	\put(80,20){\line(1,0){20}}
	\put(100,20){\line(0,1){20}}
	\put(100,40){\line(1,0){40}}
	\multiput(100,0)(0,5){4}{\line(0,1){3}}
	\multiput(100,20)(5,0){4}{\line(1,0){3}}
	\multiput(120,20)(0,5){4}{\line(0,1){3}}
	
	\end{picture}
	\](The dotted lines divide the tiles into $1\times 1$ squares.) The tiles may be rotated and reflected, as long as their sides are parallel to the sides of the rectangular region. They must all fit within the region, and they must cover it completely without overlapping.
	
	What is the minimum number of tiles required to tile the region?
	
	\textbf{Answer.} $mn$. \\
	\textbf{Solution.} We first consider the region as $(i, j)$ with $1\le i\le 2m-1$ and $1\le j\le 2n-1$. We also label each square as types 1, 2, 3, 4 accoridng to the following rule: 
	\begin{enumerate}
		\item Type 1: Both $i, j$ odd.
		\item Type 2: $i$ even, $j$ odd. 
		\item Type 3: $i$ odd, $j$ even. 
		\item Type 4: Both $i, j$ even.
	\end{enumerate}
	Now there are $mn$ type 1 cells, $(m-1)n$ type 2 cells, $m(n-1)$ type 3 cells, and $(m-1)(n-1)$ type 4 cells. 
	
	Now name the first type of tile as 3-tile and the second type of tile as 4-tile. We first show that each tile covers cells of different type. Consider the 3-tile, and suppose the cell of the tile where its opposite is empty (in our example, it is the top left corner) covers the cell $(i, j)$. The other cells that are being covered are $(i\pm 1, j)$ and $(i, j\pm 1)$. These two cells do not have the same type as $(i, j)$ since for each of them, it cannot happen that both cooridnates have the same parity as that of $(i, j)$. $(i\pm 1, j)$ and $(i, j\pm 1)$ also have different types since $i$ and $i\pm 1$ must have different parity (same for $j$ and $j\pm 1$). For the 4-tile, we argue by considering the Manhattan distance of each cell of the tile. Two cells of the same type must have even distance in both coordinates, and hence an even Manhattan distance. Here in this 4-tile, the only two pairs of cells with even Manhattan distance are diasonally apart, with distance 1 in each of the two coordinates (for both pairs). Hence they cannot have the same type either. 
	
	Having established the above, we know that each 4-tile covers each type of cell exactly once, and each 3-tile covers 3 of the types of the cells exactly once. Let $a$ be the number of 4-tiles, and $b_1+b_2+b_3+b_4=b$ be the number of 3-tiles, with $b_i$ signifying the number of 3-tiles that do not cover any cell of type $i$. Therefore we have the following: $4a+3b=(2m-1)(2n-1)$, and 
	$a+b-b_1=mn, a+b-b_2=(m-1)n, a+b-b_3=m(n-1)$, and $a+b-b_4=(m-1)(n-1)$. Thus we know that $b_2-b_1=n, b_3-b_1=m$ and $b_4-b_1=m+n-1$. This forces $b=b_1+b_2+b_3+b_4\ge n+m+n+m-1=2(m+n)-1$, and so $4(a+b)=4a+3b+b\ge (2m-1)(2n-1)+2(m+n-1)=4mn$ and we have the number of tiles is $a+b$, which is at least $mn$. 
	
	\item[\textbf{A5}]Suppose that $G$ is a finite group generated by the two elements $g$ and $h,$ where the order of $g$ is odd. Show that every element of $G$ can be written in the form
	\[g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_r}h^{n_r}\]with $1\le r\le |G|$ and $m_n,n_1,m_2,n_2,\dots,m_r,n_r\in\{1,-1\}.$ (Here $|G|$ is the number of elements of $G.$)
	
	\textbf{Solution.} We first let $S$ to be the set of elements in $G$ that can be written in the desired form, but with the condition $1\le r\le G$ relaxed. To start with, $gh, g^{-1}h, gh^{-1}, g^{-1}h^{-1}\in S$. We also have $S$ closed in multiplication. 
	Now if $x=g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_r}h^{n_r}\in S$ then $x^{-1}=(g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_r}h^{n_r})^{|G|-1}\in S$ too, so we have $(g^{-1}h)^{-1}=h^{-1}g\in S$, and thus $ghh^{-1}g=g^2\in S$. Since the order of $G$ is odd, we also have $g=(g^2)^{\frac{ord(g)+1}{2}}\in S$, and $gg^{-1}h=h\in S$. Since $g$ and $h$ generate $G$, all elements in $G$ are in $S$. 
	
	It remains to show that the restriction $1\le r\le |G|$ can be imposed. For the identity element $e$ we observe that $(gh)^|G|=e$ (just to consider the possibility of $r=0$). Otherwise, if $x=g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_r}h^{n_r}$ with $r>|G|$, and suppose that this $r$ is the minimal number of index needed to represent $x$ in our desired form, then considering the element $x_k=g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_k}h^{n_k}$, and by the fact that $r>|G|$, we have $x_i=x_j$ for some $1\le i\neq j\le r$. This way, we also have 
	$x=g^{m_1}h^{n_1}g^{m_2}h^{n_2}\cdots g^{m_i}h^{n_i}g^{m_{j+1}}h^{n_{j+1}}\cdots g^{m_r}h^{n_r}$, contradicting the minimality of $r$. 
	
	\item[\textbf{B2}]Define a positive integer $n$ to be squarish if either $n$ is itself a perfect square or the distance from $n$ to the nearest perfect square is a perfect square. For example, $2016$ is squarish, because the nearest perfect square to $2016$ is $45^2=2025$ and $2025-2016=9$ is a perfect square. (Of the positive integers between $1$ and $10,$ only $6$ and $7$ are not squarish.)
	
	For a positive integer $N,$ let $S(N)$ be the number of squarish integers between $1$ and $N,$ inclusive. Find positive constants $\alpha$ and $\beta$ such that
	\[\lim_{N\to\infty}\frac{S(N)}{N^{\alpha}}=\beta,\]or show that no such constants exist.
	
	\textbf{Answer.}$\alpha=\frac 34, \beta = \frac 43$\\
	\textbf{Solution.} 
	We first consider the number of squarish numbers between 1 and $n^2$. Consider the number between $(k-1)^2+1$ to $k^2$ for some $k$, inclusive. For each of the numbers $m\in [(k-1)^2+1, k(k-1)]$, the closest square is $(k-1)^2$. For each of the numbers $m\in [k(k-1)+1, k^2]$, the closest square is $k^2$. In the first category, the distance from $(k-1)^2$ is $1, 2, \cdots , k-1$, so there are $\lfloor \sqrt{k - 1}\rfloor$ squarish numbers. In the second category, the distance to $k^2$ is $k-1, k-2, \cdots , 0$, so the number of squarish numbers is then $\lfloor \sqrt{k - 1}\rfloor + 1$. Therefore we have the sum as 
	\[S(n^2)=\sum_{k=1}^n 2\lfloor \sqrt{k - 1}\rfloor + 1\]
	The next thing is to evaluate the expression $\sum _{k=1}^n \lfloor{\sqrt{k-1}}\rfloor$. 
	Again we use the following inequality: 
	$\sum _{k=1}^n (\sqrt{k-1}-1)<\sum _{k=1}^n \lfloor{\sqrt{k-1}}\rfloor\le \sum _{k=1}^n \sqrt{k-1}$. Since $\sqrt{x}$ is also an increasing function, we have the following: 
	\[\int_0^{n-1}\sqrt{x}dx\le\sum _{k=1}^n \sqrt{k-1}=\sum _{k=0}^{n-1} \sqrt{k}\le\int_0^{n}\sqrt{x}dx\]
	(we are using the fact that $\int_{k-1}^{k}f(x)dx\le f(k)\le \int_{k}^{k+1} f(x)dx$ for $f$ increasing, so $\int_{0}^{n-1}f(x)dx\le \sum_{k=0}^{n-1} f(k)\le \int_{0}^{n} f(x)dx$, given that $f(0)=0$ for $f(x):=\sqrt{x}$). By evaluating the intergral $\int_0^{n}\sqrt{x}dx=\frac{2}{3}n^{3/2}$, we have
	\begin{flalign*}
	\frac{4}{3}(n-1)^{3/2} - n&\le (\sum _{k=1}^n 2\sqrt{k-1}) - n\\
	&= \sum _{k=1}^n (2(\sqrt{k-1}-1)+1)\\
	&<\sum _{k=1}^n (2\lfloor{\sqrt{k-1}}\rfloor+1)\\
	&\le \sum _{k=1}^n (2\sqrt{k-1}+1)\\
	&=n+2\sum _{k=1}^n \sqrt{k-1}\\
	&=\frac{4}{3}n^{3/2} + n\\
	\end{flalign*} 
	meaning that $S(n^2)\in[\frac{4}{3}(n-1)^{3/2} - n, \frac{4}{3}n^{3/2} + n]$. 
	Also notice that $S(n)$ is increasing with $n$ (we need it in the rest of the proof). 
	If we consider $N$ in general, then $\lfloor\sqrt{N}\rfloor^2\le N\le \lceil\sqrt{N}\rceil$. Thus 
	\[\frac{4}{3}(\lfloor\sqrt{N}\rfloor-1)^{3/2} - \lfloor\sqrt{N}\rfloor\le S(\lfloor\sqrt{N}\rfloor)\le S(n) \le S(\lceil\sqrt{N}\rceil)\le \frac{4}{3}(\lceil\sqrt{N}\rceil)^{3/2} + \lceil\sqrt{N}\rceil\]
	again we note that $\lfloor\sqrt{N}\rfloor>\sqrt{N}-1$ and $\lceil\sqrt{N}\rceil<\sqrt{N}+1$. 
	Thus we get 
	$\frac{4}{3}(\sqrt{N}-2)^{3/2} - \sqrt{N} \le S(N)\le \frac{4}{3}(\sqrt{N} + 1)^{3/2} + \sqrt{N} + 1$. Notice also that \[\lim_{N\to\infty}\frac{\frac{4}{3}(\sqrt{N}-2)^{3/2} - \sqrt{N}}{N^{3/4}}=\frac 43 = \lim_{N\to\infty}\frac{\frac{4}{3}(\sqrt{N} + 1)^{3/2} + \sqrt{N} + 1}{N^{3/4}}\], so the limit must exist by Squueze's theorem and equal to $\frac 43$, as desired. 
	
	\item[\textbf{B3}] Suppose that $S$ is a finite set of points in the plane such that the area of triangle $\triangle ABC$ is at most 1 
	whenever $A, B$, and $C$ are in $S$. 
	Show that there exists a triangle of area 4 that (together with its interior) covers the set $S$.
	
	\textbf{Solution.} 
	Let $ABC=\arg\max_{A', B', C'} \{|\triangle A'B'C'|, A', B', C'\in S\}$. 
	Consider, now, the lines parallel to $AB$ through $C$, 
	parallel to $BC$ through $A$, and parallel to $AC$ through $B$. 
	This defines a new triangle $A_0B_0C_0$ with area $4\times |\triangle ABC|$. 
	(We label the points such that $A_0B_0\parallel AB$, $A_0C_0\parallel AC$, and $B_0C_0\parallel BC$). 
	
	Let's claim that this triangle covers the set $S$. 
	By the maximality of $|\triangle ABC|$ in $S$, we have 
	\[
	X\in S\Rightarrow |\triangle ABX|\le |\triangle ABC|\Rightarrow \text{distance}(X, AB)\le \text{distance}(C, AB)\Rightarrow 
	\]
	and the last statement says that each point $X\in S$ lies on the same side as $AB$ with respect to the line $A_0B_0$. 
	Similarly, $S$ must all be on the same side as $BC$ w.r.t. the line $B_0C_0$, 
	and on the same side as $AC$ w.r.t. the line $A_0C_0$. 
	Pictorially, this means $S$ is contained on or inside $A_0B_0C_0$. 
	
	Finally, with $|\triangle ABC|\le 1, |\triangle A_0B_0C_0|\le 4$, 
	so we may choose the center of $A_0B_0C_0$ and do homothety until the area reaches exactly 4. 
	
	\item[\textbf{B4}]Let $A$ be a $2n\times 2n$ matrix, with entries chosen independently at random. Every entry is chosen to be $0$ or $1,$ each with probability $1/2.$ Find the expected value of $\det(A-A^t)$ (as a function of $n$), where $A^t$ is the transpose of $A.$
	
	\textbf{Answer.} $\dfrac{(2n)!}{4^n n!}$
	
	\textbf{Solution.} Denote $a_{ij}$ as the $(i, j)$-th entry of $A$, and $b_{ij}$ as the $(i, j)$-th entry of $A-A^t$. Notice that $b_{ij}=a_{ij}-a_{ji}$, which has $\frac 12$ chance of being zero, and $\frac 14$ chance of being -1, and $\frac 14$ chance of being 1, if $i\neq j$. If $i=j$ then $b_{ij}=0$ at all times. 
	
	Now consider $\det(A-A^t)=\sum_{\sigma\in S}\sgn(\sigma)\prod_{i=1}^{2n}b_{i\sigma(i)}$ where $S$ is the set of permutations of $\{1, 2, \cdots , n\}$, $\sigma$ is its permutation, and $\sgn=1$ if $\sigma$ is even, and $-1$ otherwise. The task is to find $E(\sum_{\sigma\in S}\sgn(\sigma)\prod_{i=1}^{2n}b_{i\sigma(i)})$, whixh is equal to $\sum_{\sigma\in S}\sgn(\sigma)E(\prod_{i=1}^{2n}b_{i\sigma(i)})$ by the linearity of expectation. Hence we can go ahead and investigate $E(\prod_{i=1}^{2n}b_{i\sigma(i)})$ individually for each of the $(2n)!$ permutations $\sigma$. We note the following: 
	\begin{enumerate}
		\item If $\sigma(i)=i$ for some $i$, then $b_{i\sigma(i)}=0$ at all times, so $\prod_{i=1}^{2n}b_{i\sigma(i)}=0$, and the expected value of this term is 0. 
		\item If $\sigma(\sigma(k))\neq k$ for some $k$, then the factor $b_{\sigma(k)k}$ is not present in the term $\prod_{i=1}^{2n}b_{i\sigma(i)}$. Recall that $b_{ij}$ is dependent with $b_{kl}$ if and only if $\{i, j\}\neq \{k, l\}$, so $b_{k\sigma(k)}$ is indepdendent from $b_{i\sigma(i)}$ for all $i\neq k$, and is thus independent to $\prod_{i=1, i\neq k}^{2n}b_{i\sigma(i)}$. 
		Now by the independence of $b_{k\sigma(k)}$ from the rest of the terms we get 
		\[E(\prod_{i=1}^{2n}b_{i\sigma(i)})=E(b_{k\sigma(k)})E(\prod_{i=1, i\neq k}^{2n}b_{i\sigma(i)})
		=0E(\prod_{i=1, i\neq k}^{2n}b_{i\sigma(i)})=0\]
		since $E(b_{ij})=0(\frac 12)+1(\frac 14)-1(\frac 14)=0$ for all $i, j$. Hence this gives a 0 expectation too. 
		\item Finally, assume that the two scenarios above do not happen, so for all $i$ we have $\sigma(i)\neq i$ but $\sigma(\sigma(i))=i$. This means that for each $i$, there are $\frac 12$ chance where $b_{i\sigma(i)}=b_{\sigma(i)i}=0$, $\frac 14$ chance when $b_{i\sigma(i)}=-b_{\sigma(i)i}=1$, and $\frac 14$ chance when $b_{i\sigma(i)}=-b_{\sigma(i){i}}=-1$. Now in the first case the product $b_{i\sigma(i)}b_{\sigma(i)i}=0$ while in the second and third case this product is $-1$, so the expected value of this product is $-\frac 12$. Since each such product is independent of all other $b_{j\sigma{j}}$ and $b_{\sigma{j}j}$, the expectation is then 
		\[E(\prod_{i=1}^{2n}b_{i\sigma(i)})=\prod E(b_{i\sigma(i)}b_{\sigma(i)i})=\left(-\frac 12\right)^n\]
	\end{enumerate}
	The task now is to consider all permutations falling into the third category. First, this gives rise to $n$ distinct orbits, so the parity of permutation is congruent to $2n-n=n\pmod{2}$, and thus $\sgn(\sigma)=(-1)^n$ for all such $\sigma$. Second, the number of such permutations depends on the pairing of the $2n$ numbers, so this is exactly the ways to split these numbers into pairs. In general we have the number of pairs as: 
	\[\frac{\displaystyle\prod_{i=1}^n\dbinom{2i}{2}}{n!}=\dfrac{(2n)!}{2^n n!}\]
	Hence the final expected value is $(\dfrac 12)^n \cdot \dfrac{(2n)!}{2^n n!}=\dfrac{(2n)!}{4^n n!}$. 
	
	\item[\textbf{B5}] Find all functions $f$ from the interval $(1,\infty)$ to $(1,\infty)$ with the following property: if $x,y\in(1,\infty)$ and $x^2\le y\le x^3,$ then $(f(x))^2\le f(y) \le (f(x))^3.$ 
	
	\textbf{Answer.} $f(x)=x^c$ for any constant $c>0$. \\
	\textbf{Solution.} We first show that the aforementioned functions satisfy the problem condition. Indeed, given that $x^2\le y\le x^3$ for any pairs of $x, y\in (1, \infty)$, from $x^2\le y$ and $c>0$ we have $(x^{2})^c\le y^c$, and from $y\le x^3$ we have $y^c\le (x^3)\le c$, as desired. 
	
	To show that there's no other suitable functions, denote $g:(0, \infty)\to\infty$ by $g(x)=\log f(e^x)$. Then the condition now becomes: if $e^{2x}\le 3^y\le e^{3x}$ then $2\log(f(e^x))\le \log(f(e^y))\le 3\log(f(e^x))$. In other words, if $2x\le y\le 3x$ then $2g(x)\le g(y)\le 3g(x)$. Notice that if a function $g$ is such a solution, then for any constant $c>0$, $cg$ is also a solution. Hence we can assume that $g(1)=1$. 
	
	We now show that $g(x)=x$ for all $x>0$. Before that, let's show a lemma: 
	
	\emph{Lemma (a)}. Let $4\le x\le 3^n$. Then $f(x)\le 3^nf(1)$. \\
	Proof: Let $k$ be the integer satisfying $3^{k-1}<x\le 3^k$ with $k\le n$. Then $3^{\frac{k-1}{k}}<\sqrt[k]{x}\le 3$. If $k\ge 3$ then $3^{\frac{k-1}{k}}>3^{\frac{2}{3}}=\sqrt[3]{9}>2$ and if $k=2$ then $4\le x\le 9$ and $2\le \sqrt{x}\le 3$. In either case, $2\le \sqrt[k]{x}\le 3$. This gives 
	\[
	f(x)=f(x^{\frac{1}{k}}x^{\frac{k-1}{k}})\le 3f(x^{\frac{k-1}{k}})
	=3f(x^{\frac{1}{k}}x^{\frac{k-2}{k}})\le 3^2f(x^{\frac{k-2}{k}})
	\le\cdots \le 3^kf(x)\le 3^nf(x)
	\]
	as desired (since $k\le n$). 
	
	\emph{Lemma (b)}. Let $x\ge 2^n$ with $n\ge 2$. Then $f(x)\ge 2^nf(1)$. \\
	Proof: the trick is essentially the same: let $k$ be the integer satisfying $2^k\le x<2^{k+1}$, then $2\le \sqrt[k]{x}<2^{1+1/k}\le 2^{\frac{3}{2}}=\sqrt{8}<3$. This means 
	\[
	f(x)=f(x^{\frac{1}{k}}x^{\frac{k-1}{k}})\ge 2f(x^{\frac{k-1}{k}})
	=2f(x^{\frac{1}{k}}x^{\frac{k-2}{k}})\ge 2^2f(x^{\frac{k-2}{k}})
	\le\cdots \le 2^kf(x)\ge 2^nf(x)
	\]
	since $k\ge n$ in this case. 
	
	To solve this problem, we also need another lemma: 
	
	\emph{Lemma 2}. Let $x$ be an irrational number, then $\{\{nx\}: n = 1, 2, \cdots \}$ is dense in $(0, 1)$ (i.e., the fractional part of the number). \\
	Proof: Let $(a, b)\subseteq (0, 1)$ be an interval of length $\varepsilon>0$, and let $N>\frac{1}{\varepsilon}$ be an integer. 
	Consider the $\{\{nx\}: n = 1, 2, \cdots , N+1\}$. Since $x$ is irrational, all the $\{nx\}$ are different. By pigeonhole principle, there exists $m, n\le N+1$ such that $0<|\{mx\}-\{nx\}|<\varepsilon$. From here, we can conclude that $0<\{(m-n)x\}<\varepsilon$. 
	Consider, now, any $k\ge 1$ and the quantity $\{kx\}$. If $\{kx\}\in (a, b)$ then we are done. Otherwise, we first consider the case where $m>n$. If $\{kx\}\le a$ let $\ell$ be the minimum positive integer such that $\{kx\}+\ell\{(m-n)x\}>a$. Then since $\{(m-n)x\}<\varepsilon$, the minimality of $\ell$ suggests that $\{kx\}+\ell\{(m-n)x\}< a + varepsilon=b$, so $\{(k + \ell(m-n))x\}\in (a, b)$. 
	Otherwise, $\{kx\}\ge b$, in which case we have to consider $\ell$ as the minimum positive integer such that $\{kx\}+\ell\{(m-n)x\}> 1 + a$. Since a similar analysis shows that $1+a< \{kx\}+\ell\{(m-n)x\} < 1+b$, we have $\{(k + \ell(m-n))x\}\in (a, b)$. 
	This is valid since $m>n$ and therefore $k + \ell(m-n)>0$. 
	In the case where $m<n$, if $\{kx\}\le b$ then let $\ell$ be the minimum positive integer such that $\{kx\}-\ell\{(m-n)x\}<b$. By the similar proof before we would have $\{kx\}-\ell\{(m-n)x\} > a$ too, so $\{(k + \ell(n-m))x\}\in (a, b)$. 
	Otherwise, $\{kx\}\le a$ and let $\ell$ be the minimum positive integer such that $\{kx\}-\ell\{(m-n)x\} < -(1-b)$. By the similar proof before we would have $\{kx\}-\ell\{(m-n)x\} > -(1-a)$ so $-(1-a)<\{kx\}-\ell\{(m-n)x\} < -(1-b)$ and hence $\{(k + \ell(n-m))x\}\in (a, b)$, as desired. 
	Notice we actually showed something slightly stronger (well not quite) -- for each open interval $(a, b)\in (0, 1)$ and $k\ge 1$ there exists $\ell\in k$ such that $\{\ell x\}\in (a, b)$. 
	
	We are ready to go back to the proof now, which we assumed $g(1)=1$. Suppose there exists $x_0$ with $g(x_0)>x_0$. Let $g(x_0)=cx_0$ with $c>1$. If $n, m\ge 2$ are such that $2^nx_0\le 3^m$, then choosing $y\in [2^nx_0, 3^m]$ and by lemma 1 we have $g(y)\ge 2^ng(x_0)=2^ncx_0$ and $g(y)\le 3^mg(1)=3^m$. Therefore, $2^ncx_0\le g(y)\le 3^m$, or $2^ncx_0\le 3^m$. This means that whenever $n, m\ge 2$ are integers such that $2^nx_0\le 3^m$ (or $n\log 2 + \log x_0\le m\log 3$) we have $2^nx_0c\le 3^m$ (or $n\log 2 + \log x_0 + \log c \le m\log 3$). This is to mean that there cannot exist $m, n\ge 2$ such that $m\log 3 - n\log 2\in [\log x_0, \log x_0 + \log c]$. 
	Let $q$ be an integer that is greater than 2, $2\log 3/log 2$ and $2\log 2/log 3$. Given that $\log 2/\log 3$ is irrational, 
	
	\item [\textbf{B6}]
	
	Evaluate 
	\[
	\sum_{k=1}^{\infty} \frac{(-1)^{k-1}}{k} \sum_{n=0}^{\infty} \frac{1}{k2^n+1}
	\]
	
	\textbf{Answer.} 1. 
	
	\textbf{Solution.} 
	Let's first claim that each summation term converges absolutely, that is, 
	\[
	\sum_{k=1}^{\infty} \frac{1}{k} \sum_{n=0}^{\infty} \frac{1}{k2^n+1} < \infty
	\]
	Indeed, 
	\[
	\sum_{k=1}^{\infty} \frac{1}{k} \sum_{n=0}^{\infty} \frac{1}{k2^n+1}
	< \sum_{k=1}^{\infty} \frac{1}{k} \sum_{n=0}^{\infty} \frac{1}{k2^n}
	=\sum_{k=1}^{\infty} \frac{1}{k^2}\sum_{n=0}^{\infty} \frac{1}{2^n}
	=\sum_{k=1}^{\infty} \frac{2}{k^2}
	=\frac{\pi^2}{3}
	\]
	Thus, we are free to rearrange the summands $\frac{(-1)^{k-1}}{k}\cdot \frac{1}{k2^n+1}$. 
	
	Now we consider $f(x)=\frac{1}{x}$ for all $x\ge 2$, 
	and we are to evaluate $\sum_{k=1}^{\infty} \frac{(-1)^{k-1}}{k} \sum_{n=0}^{\infty} f(k2^n+1)$. 
	The strategy is to consider the coefficient of $f(x)$ for each $x$. 
	That is, 
	\[
	\sum_{k, n: k2^n+1=x} \frac{(-1)^{k-1}}{k} f(x)
	\]
	Now $k=\frac{x-1}{2^n}$, for $n=0, \cdots, v_2(x-1)$ (the biggest power of 2 that divides $x-1$). 
	We also observe that $\frac{x-1}{2^n}$ is odd when $n=v_2(x-1)$ and even otherwise. 
	This means that 
	\[
	\sum_{k, n: k2^n+1=x} \frac{(-1)^{k-1}}{k}
	=\sum_{n=0}^{v_2(x-1)}\frac{(-1)^{\frac{x-1}{2^n}-1}}{(x-1)/2^n}
	=\frac{1}{(x-1)/2^{v_2(x-1)}}
	-\sum_{n=0}^{v_2(x-1)-1}\frac{1}{(x-1)/2^n}
	\]\[
	=\frac{1}{(x-1)}\left(2^{v_2(x-1)}-\sum_{n=0}^{v_2(x-1)-1}2^n\right)
	=\frac{1}{x-1}
	\]
	and therefore this coefficient is $\frac{1}{x-1}$. 
	Thus the sum now becomes 
	\[\sum_{x=2}^{\infty}\frac{1}{x-1}f(x)
	=\sum_{x=2}^{\infty}(\frac{1}{x-1}-\frac{1}{x})
	=1
	\]
	
\end{enumerate}

\end{document}